### Упражнение 1.16.

Напишите процедуру, которая развивается в виде итеративного процесса и реализует возведение в степень за логарифмическое число шагов, как fast-expt. (Указание: используя наблюдение, что (b<sup>n/2</sup>)<sup>2</sup> = (b<sup>2</sup>)<sup>n/2</sup>, храните, помимо значения степени n и основания b, дополнительную переменную состояния a, и определите переход между состояниями так, чтобы произведение abn от шага к шагу не менялось. Вначале значение a берется равным 1, а ответ получается как значение a в момент окончания процесса. В общем случае метод определения инварианта (invariant quantity), который не изменяется при переходе между шагами, является мощным способом размышления о построении итеративных алгоритмов.)

```scheme
  (define (fast-exp b n)
    (exp-iter 1 b n))
  
  (define (fast-expt-iter product base exp) 
    (if (= exp 0) 
        product 
        (if (even? exp) 
            (fast-expt-iter product (square base) (/ exp 2)) 
            (fast-expt-iter (* product base) base (- exp 1)))))

  (define (even? n)
    (= (remainder n 2) 0))      

  (define (square n) (* n n))       
```